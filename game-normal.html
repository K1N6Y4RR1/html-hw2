<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Guess the cookies</title>
    <style>
        #body {
            background-image:url(./grandmad1_background.webp);
            background-size:250px 250px;
            background-attachment:fixed;
            background-repeat:repeat;
            text-align:center;
        }
        h1 {
            color:rgb(174, 88, 31);
            font-family:"comic sans ms";
            font-size:30px;
            margin:0px;
            margin-top: 0;
            margin-bottom: 0;
            padding-bottom:0px;
            padding-top:25px;
            padding-left:15px;
            padding-right:15px;
        }
        h3 {
            color:rgb(196, 118, 1);
            font-family:"comic sans ms";
            padding-left:15px;
            padding-right:15px;
            margin:0px;
            padding:0px;
        }
        #vie {
            margin:auto;
            position:fixed;
            bottom : 30px;
            width: 900px;
            height:180px; 
            left:calc(50% - 450px);   
            background-image:url(./big\ cookie.png);
            background-size : 180px 180px;
        }
        #speech {
            height: 0;
            width: 0;
            color: aliceblue;
            align-self: center;
            border-right:10vw solid;
            border-top: 5vw solid transparent;
            border-bottom: 5vw solid transparent;
            margin-left: 3vw;
        }
        #comment {
            font-family: "comic sans ms";
            position:absolute;
            bottom:15px;
            width:700px;
            text-align:center;
            font-size: 30px;
            color: rgb(108, 64, 35);
            margin-top: 20px;
        }
    </style>
</head>
<body id="body">
    <audio src='backgroundmusic.mp3' id='backgroundmusic'> </audio>
    <audio src="assend.mp3" id="assend"> </audio>
    <audio src="secret.mp3" id="secret"> </audio>
        <div style='height:250px; width:250px; margin-left:10vw; float: left; border:5px solid black; display:flex; flex-direction:row;'>
            <image id="grandmas" src="grandma.png" style="height:250px; width:250px;"> </image>
        <div id="speech"> </div>
    </div>
    <div style = "position:relative; margin:auto; margin-top:150px; margin-left:35vw; background-color: aliceblue; width:700px; height:400px; text-align:center; border-radius: 45px;">
        <h1> Devinez le nombre de biscuits que j'ai fait </h1> <br>
        <h3> (Entre 0-100) </h3> <br>
        <input type="text" id="nombre"> <br>
        <input type="button" value="Verification" onclick="verif()"> <br>
        <input type="text" id="reponse"> <br>
        <div id="comment"> "Good Luck!" - Grandma </div>
    </div>

    <div id="vie">
    </div>


    <script>
        var aleatoire = Math.floor(Math.random() * 100);
        var life = 900;
        var background = document.getElementById('backgroundmusic');
        background.load();
        background.play();
        var cookie = document.getElementById('assend');
        var secret = document.getElementById('secret');
        console.log(aleatoire);
        function verif() {
            var nombre = parseInt(document.getElementById("nombre").value, 10);
            var vie = document.getElementById("vie");
            var reponse = document.getElementById("reponse");
                if (nombre === aleatoire) {
                    reponse.value = "Vous avez gagne!";
                }
                if (nombre > aleatoire) {
                    cookie.load();
                    cookie.play();
                    reponse.value = "Le nombre est plus petit!";
                    life -= 180;
                    vie.style.left = "calc(50% - " + (life / 2) + "px)";
                    vie.style.width = life + "px";
                }
                if (nombre < aleatoire) {
                    cookie.load();
                    cookie.play();
                    reponse.value = "Le nombre est plus grand!";
                    life -= 180;
                    vie.style.left = "calc(50% - " + (life / 2) + "px)";
                    vie.style.width =life+"px";
                }
                if (life <= 0) {
                    secret.load();
                    secret.play();
                    reponse.value = "rip! le nombre etait " + aleatoire;

                }
                if (life === 720) {
                    grandmas.src ='grandmad.png'
                    body.style.backgroundRepeat = 'repeat';
                    body.style.backgroundSize = '250px 250px';
                    body.style.backgroundImage = 'url(./cookie_backgroundd.jpg)';
                    comment.innerHTML = "I still believe in you! - Grandma"

                }
                if (life === 540) {
                    grandmas.src ='grandmad2.png'
                    body.style.backgroundRepeat = 'repeat';
                    body.style.backgroundSize = '250px 250px';
                    body.style.backgroundImage = 'url(./grandmad2_background.jpg)';
                }
                if (life === 360) {
                    grandmas.src ='grandmad3.png'
                    body.style.backgroundRepeat = 'repeat';
                    body.style.backgroundSize = '250px 250px';
                    body.style.backgroundImage = 'url(./grandmad3_background.webp)';
                }
                if (life === 180) {
                    grandmas.src ='grandmad4.png'
                    body.style.backgroundRepeat = 'repeat';
                    body.style.backgroundSize = '250px 250px';
                    body.style.backgroundImage = 'url(./grandmad4_background.png)';
                }
        }
    </script>
</body>
</html>